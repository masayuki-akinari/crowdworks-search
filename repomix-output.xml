This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
docs/01_requirements.md
docs/02_system_design.md
docs/03_data_design.md
docs/04_api_design.md
docs/05_implementation_plan.md
docs/README.md
readme.md
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="docs/03_data_design.md">
# ãƒ‡ãƒ¼ã‚¿è¨­è¨ˆæ›¸

## 1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

### 1.1 ERå›³


### 1.2 ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©

#### 1.2.1 æ¤œç´¢æ¡ä»¶ãƒ†ãƒ¼ãƒ–ãƒ« (search_conditions)


#### 1.2.2 æ¡ˆä»¶ãƒ‡ãƒ¼ã‚¿ãƒ†ãƒ¼ãƒ–ãƒ« (job_data)


#### 1.2.3 è©•ä¾¡çµæœãƒ†ãƒ¼ãƒ–ãƒ« (evaluations)


#### 1.2.4 å®Ÿè¡Œå±¥æ­´ãƒ†ãƒ¼ãƒ–ãƒ« (execution_logs)


### 1.3 ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨­è¨ˆ


## 2. ãƒ‡ãƒ¼ã‚¿å‹å®šç¾©

### 2.1 TypeScriptå‹å®šç¾©

#### 2.1.1 æ¤œç´¢æ¡ä»¶å‹


#### 2.1.2 æ¡ˆä»¶ãƒ‡ãƒ¼ã‚¿å‹


#### 2.1.3 è©•ä¾¡çµæœå‹


#### 2.1.4 è¨­å®šå‹


## 3. ãƒ‡ãƒ¼ã‚¿ç§»è¡Œãƒ»åˆæœŸåŒ–

### 3.1 åˆæœŸãƒ‡ãƒ¼ã‚¿


### 3.2 ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æˆ¦ç•¥


## 4. ãƒ‡ãƒ¼ã‚¿ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»å¾©æ—§

### 4.1 ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ–¹é‡


### 4.2 å¾©æ—§æ‰‹é †
</file>

<file path="docs/04_api_design.md">
# APIè¨­è¨ˆæ›¸

## 1. APIæ¦‚è¦

### 1.1 APIæ–¹é‡


### 1.2 èªè¨¼æ–¹å¼


### 1.3 ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹å…±é€šä»•æ§˜


## 2. å†…éƒ¨APIè¨­è¨ˆ

### 2.1 ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼API

#### 2.1.1 å®Ÿè¡Œé–‹å§‹


#### 2.1.2 å®Ÿè¡Œåœæ­¢


#### 2.1.3 å®Ÿè¡ŒçŠ¶æ³ç¢ºèª


### 2.2 æ¤œç´¢æ¡ä»¶ç®¡ç†API

#### 2.2.1 æ¤œç´¢æ¡ä»¶ä¿å­˜


#### 2.2.2 æ¤œç´¢æ¡ä»¶å–å¾—


#### 2.2.3 æ¤œç´¢æ¡ä»¶æ›´æ–°


#### 2.2.4 æ¤œç´¢æ¡ä»¶å‰Šé™¤


### 2.3 æ¡ˆä»¶ãƒ‡ãƒ¼ã‚¿API

#### 2.3.1 æ¡ˆä»¶ãƒ‡ãƒ¼ã‚¿å–å¾—


#### 2.3.2 æ¡ˆä»¶ãƒ‡ãƒ¼ã‚¿æ¤œç´¢


### 2.4 è©•ä¾¡çµæœAPI

#### 2.4.1 è©•ä¾¡çµæœå–å¾—


#### 2.4.2 è©•ä¾¡çµæœçµ±è¨ˆ


## 3. å¤–éƒ¨APIé€£æº

### 3.1 ChatGPT API


### 3.2 ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ¯ãƒ¼ã‚¯ã‚¹ï¼ˆã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ï¼‰


## 4. Webhookè¨­è¨ˆ

### 4.1 é€šçŸ¥Webhook
</file>

<file path="docs/05_implementation_plan.md">
# å®Ÿè£…è¨ˆç”»æ›¸

## 1. é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚º

### Phase 1: åŸºç›¤æ§‹ç¯‰


### Phase 2: ã‚³ã‚¢æ©Ÿèƒ½å®Ÿè£…


### Phase 3: AIé€£æºæ©Ÿèƒ½


### Phase 4: é‹ç”¨æ©Ÿèƒ½ãƒ»æ”¹å–„


## 2. ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³

### 2.1 çŸ­æœŸç›®æ¨™ï¼ˆ1-2é€±é–“ï¼‰


### 2.2 ä¸­æœŸç›®æ¨™ï¼ˆ1ãƒ¶æœˆï¼‰


### 2.3 é•·æœŸç›®æ¨™ï¼ˆ3ãƒ¶æœˆï¼‰


## 3. ã‚¿ã‚¹ã‚¯åˆ†è§£

### 3.1 ç’°å¢ƒæ§‹ç¯‰ã‚¿ã‚¹ã‚¯


### 3.2 é–‹ç™ºã‚¿ã‚¹ã‚¯


### 3.3 ãƒ†ã‚¹ãƒˆã‚¿ã‚¹ã‚¯


### 3.4 ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¿ã‚¹ã‚¯


## 4. ãƒªã‚¹ã‚¯ç®¡ç†

### 4.1 æŠ€è¡“çš„ãƒªã‚¹ã‚¯


### 4.2 ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒªã‚¹ã‚¯


### 4.3 å¯¾ç­–ãƒ»å›é¿ç­–


## 5. å“è³ªç®¡ç†

### 5.1 ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼æ–¹é‡


### 5.2 ãƒ†ã‚¹ãƒˆæ–¹é‡


### 5.3 å“è³ªæŒ‡æ¨™
</file>

<file path="docs/README.md">
# è¨­è¨ˆæ›¸ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹

ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ¯ãƒ¼ã‚¯ã‚¹æ¡ˆä»¶è‡ªå‹•æ¤œç´¢ãƒ»è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ ã®è¨­è¨ˆæ›¸ã§ã™ã€‚

## ğŸ“š è¨­è¨ˆæ›¸ä¸€è¦§

### 1. [è¦ä»¶å®šç¾©æ›¸](./01_requirements.md)
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›®çš„ã€æ©Ÿèƒ½è¦ä»¶ã€éæ©Ÿèƒ½è¦ä»¶ã‚’å®šç¾©

### 2. [ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆæ›¸](./02_system_design.md)  
ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ

### 3. [ãƒ‡ãƒ¼ã‚¿è¨­è¨ˆæ›¸](./03_data_design.md)
ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆã¨ãƒ‡ãƒ¼ã‚¿å‹å®šç¾©

### 4. [APIè¨­è¨ˆæ›¸](./04_api_design.md)
å†…éƒ¨APIãƒ»å¤–éƒ¨APIé€£æºã®ä»•æ§˜å®šç¾©

### 5. [å®Ÿè£…è¨ˆç”»æ›¸](./05_implementation_plan.md)
é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚ºã¨ã‚¿ã‚¹ã‚¯åˆ†è§£ã€ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

## ğŸ”„ è¨­è¨ˆæ›¸ä½œæˆã®é€²ã‚æ–¹

1. **è¦ä»¶å®šç¾©æ›¸** ã‹ã‚‰é–‹å§‹
2. **ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆæ›¸** ã§å…¨ä½“åƒã‚’æ•´ç†
3. **ãƒ‡ãƒ¼ã‚¿è¨­è¨ˆæ›¸** ã§ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’æ±ºå®š
4. **APIè¨­è¨ˆæ›¸** ã§ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©
5. **å®Ÿè£…è¨ˆç”»æ›¸** ã§é–‹ç™ºã‚’è¨ˆç”»

## ğŸ“ æ›´æ–°å±¥æ­´

| æ—¥ä»˜ | æ›´æ–°è€… | æ›´æ–°å†…å®¹ |
|------|--------|----------|
|      |        |          |
</file>

<file path="docs/01_requirements.md">
# è¦ä»¶å®šç¾©æ›¸

## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### 1.1 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå
ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ¯ãƒ¼ã‚¯ã‚¹æ¡ˆä»¶è‡ªå‹•æ¤œç´¢ãƒ»è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ ï¼ˆCrowdWorks Auto Job Searcherï¼‰

### 1.2 ç›®çš„ãƒ»èƒŒæ™¯
ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ¯ãƒ¼ã‚¯ã‚¹ä¸Šã§é©åˆ‡ãªæ¡ˆä»¶ã‚’åŠ¹ç‡çš„ã«ç™ºè¦‹ã—ã€æ¡ˆä»¶ã®å“è³ªã‚„ãƒãƒƒãƒãƒ³ã‚°åº¦ã‚’è‡ªå‹•è©•ä¾¡ã™ã‚‹ã“ã¨ã§ã€ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚µãƒ¼ã®æ¡ˆä»¶é¸å®šæ¥­å‹™ã‚’è‡ªå‹•åŒ–ãƒ»åŠ¹ç‡åŒ–ã™ã‚‹ã€‚

**èƒŒæ™¯**
- æ‰‹å‹•ã§ã®æ¡ˆä»¶ãƒã‚§ãƒƒã‚¯ã¯æ™‚é–“ãŒã‹ã‹ã‚‹
- è‰¯ã„æ¡ˆä»¶ã‚’è¦‹é€ƒã™ãƒªã‚¹ã‚¯ãŒã‚ã‚‹
- æ¡ˆä»¶ã®è©•ä¾¡ã«ä¸»è¦³ãŒå…¥ã‚Šã‚„ã™ã„
- å®šæœŸçš„ãªãƒã‚§ãƒƒã‚¯ãŒå›°é›£
- å€‹äººåˆ©ç”¨ã§ã®ã‚³ã‚¹ãƒˆåŠ¹ç‡æ€§ã‚’é‡è¦–

### 1.3 ã‚¹ã‚³ãƒ¼ãƒ—
**å¯¾è±¡ç¯„å›²**
- ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ¯ãƒ¼ã‚¯ã‚¹ä¸Šã®æ¡ˆä»¶æƒ…å ±ã®è‡ªå‹•å–å¾—
- AIï¼ˆChatGPTï¼‰ã«ã‚ˆã‚‹æ¡ˆä»¶è©•ä¾¡
- æ¤œç´¢æ¡ä»¶ã®ç®¡ç†ãƒ»ä¿å­˜
- å®šæœŸå®Ÿè¡Œã«ã‚ˆã‚‹ç¶™ç¶šç›£è¦–
- AWSã‚µãƒ¼ãƒãƒ¬ã‚¹ç’°å¢ƒã§ã®é‹ç”¨
- ç›´è¿‘1é€±é–“ã®ãƒ‡ãƒ¼ã‚¿ç®¡ç†ï¼ˆæ¡ˆä»¶ã®closeãŒæ—©ã„ãŸã‚ï¼‰

**å¯¾è±¡å¤–**
- ä»–ã®ã‚¯ãƒ©ã‚¦ãƒ‰ã‚½ãƒ¼ã‚·ãƒ³ã‚°ã‚µã‚¤ãƒˆ
- æ¡ˆä»¶ã¸ã®è‡ªå‹•å¿œå‹Ÿæ©Ÿèƒ½
- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã®ã‚„ã‚Šå–ã‚Šè‡ªå‹•åŒ–
- ã‚ªãƒ³ãƒ—ãƒ¬ãƒŸã‚¹ç’°å¢ƒã§ã®é‹ç”¨
- é•·æœŸé–“ã®ãƒ‡ãƒ¼ã‚¿åˆ†æãƒ»ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ

## 2. æ©Ÿèƒ½è¦ä»¶

### 2.1 Mustï¼ˆå¿…é ˆæ©Ÿèƒ½ï¼‰
- **æ¤œç´¢æ¡ä»¶ç®¡ç†æ©Ÿèƒ½**
  - æ¤œç´¢æ¡ä»¶ã®ä¿å­˜ãƒ»èª­ã¿è¾¼ã¿ï¼ˆS3 JSONå½¢å¼ï¼‰
  - è¤‡æ•°ã®æ¤œç´¢æ¡ä»¶ã‚»ãƒƒãƒˆã®ç®¡ç†
- **è‡ªå‹•å–å¾—æ©Ÿèƒ½**
  - 15åˆ†é–“éš”ã§ã®è‡ªå‹•å®Ÿè¡Œï¼ˆEventBridgeï¼‰
  - AWSã‚µãƒ¼ãƒãƒ¬ã‚¹ç’°å¢ƒã§ã®å®‰å®šå‹•ä½œ
  - ãƒ–ãƒ©ã‚¦ã‚¶è‡ªå‹•æ“ä½œã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆPlaywright on Lambdaï¼‰
- **AIè©•ä¾¡æ©Ÿèƒ½ï¼ˆè»½é‡ç‰ˆï¼‰**
  - ChatGPT APIã‚’ä½¿ç”¨ã—ãŸæ¡ˆä»¶è©•ä¾¡ï¼ˆäº‹å‰ãƒ•ã‚£ãƒ«ã‚¿å¾Œï¼‰
  - ãŠã™ã™ã‚åº¦ã®ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ï¼ˆ1-10ç‚¹ï¼‰
  - è©•ä¾¡ç†ç”±ã®æ–‡ç« ç”Ÿæˆ
- **ãƒ‡ãƒ¼ã‚¿ä¿å­˜æ©Ÿèƒ½**
  - å–å¾—ã—ãŸæ¡ˆä»¶ãƒ‡ãƒ¼ã‚¿ã®æ°¸ç¶šåŒ–ï¼ˆS3 JSONå½¢å¼ï¼‰
  - è©•ä¾¡çµæœã®å±¥æ­´ä¿å­˜ï¼ˆ1é€±é–“ï¼‰
  - é‡è¤‡æ¡ˆä»¶ã®æ¤œå‡ºãƒ»é™¤å¤–ï¼ˆéå»24-48æ™‚é–“åˆ†ï¼‰

### 2.2 Shouldï¼ˆé‡è¦æ©Ÿèƒ½ï¼‰
- **é€šçŸ¥æ©Ÿèƒ½**
  - é«˜è©•ä¾¡æ¡ˆä»¶ã®å³åº§é€šçŸ¥ï¼ˆSNS/SESï¼‰
  - å®Ÿè¡Œã‚¨ãƒ©ãƒ¼æ™‚ã®é€šçŸ¥
- **ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½**
  - äºˆç®—ç¯„å›²ã§ã®çµã‚Šè¾¼ã¿
  - ã‚¹ã‚­ãƒ«ã‚»ãƒƒãƒˆãƒãƒƒãƒãƒ³ã‚°
  - ç´æœŸæ¡ä»¶ã§ã®ãƒ•ã‚£ãƒ«ã‚¿
- **ãƒ­ã‚°ãƒ»ç›£è¦–æ©Ÿèƒ½**
  - å®Ÿè¡Œãƒ­ã‚°ã®è¨˜éŒ²ï¼ˆS3 JSONå½¢å¼ï¼‰
  - ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã®é€šçŸ¥
  - æ—¥æ¬¡ã‚µãƒãƒªãƒ¼ç”Ÿæˆ

### 2.3 Couldï¼ˆã‚ã‚Œã°è‰¯ã„æ©Ÿèƒ½ï¼‰
- **ç°¡æ˜“ãƒ¬ãƒãƒ¼ãƒˆæ©Ÿèƒ½**
  - é€±æ¬¡ã®æ¡ˆä»¶å‹•å‘ã‚µãƒãƒªãƒ¼
  - é«˜è©•ä¾¡æ¡ˆä»¶ã®å‚¾å‘åˆ†æ
- **Webãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**
  - S3ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚€é™çš„ã‚µã‚¤ãƒˆï¼ˆVercelç­‰ï¼‰
  - è¨­å®šå¤‰æ›´ç”¨ã®ç°¡æ˜“UI

## 3. éæ©Ÿèƒ½è¦ä»¶

### 3.1 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶
- 15åˆ†é–“éš”ã§ã®å®Ÿè¡Œã‚’ç¢ºå®Ÿã«å®Ÿè¡Œ
- Lambdaé–¢æ•°ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ: æœ€å¤§10åˆ†
- 1å›ã®å®Ÿè¡Œã§æœ€å¤§50ä»¶ã®æ¡ˆä»¶ã‚’å‡¦ç†
- å®Ÿè¡Œæ™‚é–“1åˆ†ä»¥å†…ã‚’ç›®æ¨™ï¼ˆã‚³ã‚¹ãƒˆå‰Šæ¸›ã®ãŸã‚ï¼‰
- AIè©•ä¾¡ã¯é«˜ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«æ¡ˆä»¶ã®ã¿ï¼ˆã‚³ã‚¹ãƒˆå‰Šæ¸›ï¼‰

### 3.2 å¯ç”¨æ€§è¦ä»¶
- AWSã‚µãƒ¼ãƒãƒ¬ã‚¹ç’°å¢ƒã§ã®24æ™‚é–“365æ—¥ç¨¼åƒ
- ã‚·ã‚¹ãƒ†ãƒ éšœå®³æ™‚ã®è‡ªå‹•å¾©æ—§æ©Ÿèƒ½
- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯éšœå®³æ™‚ã®ãƒªãƒˆãƒ©ã‚¤æ©Ÿèƒ½ï¼ˆæœ€å¤§3å›ï¼‰
- ç¨¼åƒç‡: 95%ä»¥ä¸Šï¼ˆå€‹äººåˆ©ç”¨ãƒ¬ãƒ™ãƒ«ï¼‰

### 3.3 ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶
- AWS Systems Manager Parameter Store ã§ã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆç®¡ç†
- IAMãƒ­ãƒ¼ãƒ«ã«ã‚ˆã‚‹æœ€å°æ¨©é™ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡
- S3ãƒã‚±ãƒƒãƒˆã®ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆè¨­å®š
- å–å¾—ãƒ‡ãƒ¼ã‚¿ã®ä¿è­·ï¼ˆS3æš—å·åŒ–ï¼‰
- ãƒ­ã‚°ã®æ©Ÿå¯†æƒ…å ±ãƒã‚¹ã‚­ãƒ³ã‚°

### 3.4 é‹ç”¨ãƒ»ä¿å®ˆæ€§è¦ä»¶
- S3ã§ã®æ§‹é€ åŒ–ãƒ­ã‚°ç®¡ç†
- AWS CDK ã§ã® Infrastructure as Code
- Lambdaé–¢æ•°ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†
- ã‚¨ãƒ©ãƒ¼æ™‚ã®SNSé€šçŸ¥
- 7æ—¥é–“ã®è‡ªå‹•ãƒ‡ãƒ¼ã‚¿å‰Šé™¤ï¼ˆS3 Lifecycle Policyï¼‰

### 3.5 ã‚³ã‚¹ãƒˆè¦ä»¶
- **æœˆé¡é‹ç”¨ã‚³ã‚¹ãƒˆ: $5ä»¥ä¸‹ã‚’å³å®ˆ**
- Lambdaå®Ÿè¡Œæ™‚é–“ã®æœ€é©åŒ–ï¼ˆ1åˆ†ä»¥å†…ï¼‰
- S3ä½¿ç”¨é‡ã®æœ€å°åŒ–
- CloudWatchä½¿ç”¨ã®å®Œå…¨å»ƒæ­¢
- ChatGPT APIä½¿ç”¨é‡ã®åˆ¶é™ï¼ˆäº‹å‰ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼‰

## 4. åˆ¶ç´„äº‹é …

### 4.1 æŠ€è¡“çš„åˆ¶ç´„
- AWS ã‚µãƒ¼ãƒãƒ¬ã‚¹ç’°å¢ƒã§ã®é–‹ç™ºãƒ»é‹ç”¨
- TypeScript ã§ã®å‹å®‰å…¨æ€§ç¢ºä¿ï¼ˆanyå‹ã®ä½¿ç”¨ç¦æ­¢ï¼‰
- Lambdaé–¢æ•°ã®å®Ÿè¡Œæ™‚é–“åˆ¶é™ï¼ˆæœ€å¤§10åˆ†ï¼‰
- Playwrightãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ¡ãƒ¢ãƒªåˆ¶é™
- S3ã§ã®æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ç®¡ç†ï¼ˆNoSQLæ©Ÿèƒ½ãªã—ï¼‰
- ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ¯ãƒ¼ã‚¯ã‚¹ã®åˆ©ç”¨è¦ç´„éµå®ˆ

### 4.2 é‹ç”¨åˆ¶ç´„
- ChatGPT API ã®åˆ©ç”¨æ–™é‡‘åˆ¶é™ï¼ˆæœˆ$3ä»¥ä¸‹ï¼‰
- AWS ã‚µãƒ¼ãƒ“ã‚¹åˆ©ç”¨æ–™é‡‘åˆ¶é™ï¼ˆæœˆ$2ä»¥ä¸‹ï¼‰
- ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ¯ãƒ¼ã‚¯ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹é »åº¦åˆ¶é™
- 1æ—¥ã‚ãŸã‚Šã®æœ€å¤§å®Ÿè¡Œå›æ•°: 96å›ï¼ˆ15åˆ†Ã—4Ã—24æ™‚é–“ï¼‰
- LambdaåŒæ™‚å®Ÿè¡Œæ•°åˆ¶é™
- ãƒ‡ãƒ¼ã‚¿ä¿æŒæœŸé–“: æœ€å¤§7æ—¥é–“

### 4.3 ãã®ä»–åˆ¶ç´„
- å€‹äººåˆ©ç”¨ç›®çš„ã«é™å®š
- å•†ç”¨åˆ©ç”¨ã¯åˆ¥é€”æ¤œè¨ãŒå¿…è¦
- ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°å¯¾è±¡ã‚µã‚¤ãƒˆã®ä»•æ§˜å¤‰æ›´ãƒªã‚¹ã‚¯
- AWSã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®åˆ©ç”¨å¯èƒ½ãƒªãƒ¼ã‚¸ãƒ§ãƒ³åˆ¶é™
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åˆ†ææ©Ÿèƒ½ãªã—

## 5. å‰ææ¡ä»¶
- AWSã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒä½œæˆæ¸ˆã¿
- é©åˆ‡ãªIAMæ¨©é™ãŒè¨­å®šæ¸ˆã¿
- ChatGPT API ã‚­ãƒ¼ãŒå–å¾—æ¸ˆã¿
- ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ¯ãƒ¼ã‚¯ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒä½œæˆæ¸ˆã¿
- ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šãŒå®‰å®šã—ã¦ã„ã‚‹
- AWS CLI/CDK ã®å®Ÿè¡Œç’°å¢ƒ
- æ¡ˆä»¶ã¯1é€±é–“ç¨‹åº¦ã§closeã™ã‚‹ãŸã‚çŸ­æœŸãƒ‡ãƒ¼ã‚¿ç®¡ç†ã§ååˆ†

## 6. ç”¨èªå®šç¾©
| ç”¨èª | å®šç¾© |
|------|------|
| æ¡ˆä»¶ | ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ¯ãƒ¼ã‚¯ã‚¹ä¸Šã§å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ä»•äº‹ã®ä¾é ¼ |
| æ¤œç´¢æ¡ä»¶ | æ¡ˆä»¶ã‚’çµã‚Šè¾¼ã‚€ãŸã‚ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼è¨­å®š |
| è©•ä¾¡ã‚¹ã‚³ã‚¢ | AI ãŒç®—å‡ºã™ã‚‹æ¡ˆä»¶ã®ãŠã™ã™ã‚åº¦ï¼ˆ1-10ç‚¹ï¼‰ |
| å®Ÿè¡Œå±¥æ­´ | ã‚·ã‚¹ãƒ†ãƒ ãŒè‡ªå‹•å®Ÿè¡Œã—ãŸè¨˜éŒ² |
| ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚° | ãƒ–ãƒ©ã‚¦ã‚¶è‡ªå‹•æ“ä½œã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿å–å¾— |
| ã‚µãƒ¼ãƒãƒ¬ã‚¹ | AWS Lambdaç­‰ã®ã‚µãƒ¼ãƒãƒ¼ç®¡ç†ä¸è¦ãªã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ |
| EventBridge | AWSã®ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•å‹ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆæ—§CloudWatch Eventsï¼‰ |
| äº‹å‰ãƒ•ã‚£ãƒ«ã‚¿ | AIè©•ä¾¡å‰ã®äºˆç®—ãƒ»ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ç­‰ã«ã‚ˆã‚‹çµã‚Šè¾¼ã¿ |
| TTL | Time To Liveã€S3ã§ã®è‡ªå‹•å‰Šé™¤è¨­å®š |
</file>

<file path="docs/02_system_design.md">
# ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆæ›¸

## 1. ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

### 1.1 ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆå›³

```
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚             AWS Cloud                â”‚
                        â”‚                                     â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                    EventBridge (15åˆ†é–“éš”)                      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                 Lambda Function (Main)                       â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
    â”‚  â”‚ Scheduler   â”‚  â”‚   Scraper    â”‚  â”‚   AI Evaluator   â”‚    â”‚
    â”‚  â”‚   Logic     â”‚â”€â–¶â”‚ (Playwright) â”‚â”€â–¶â”‚  (ChatGPT API)   â”‚    â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚                       â”‚
                           â–¼                       â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                 DynamoDB                     â”‚               â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚               â”‚
    â”‚  â”‚ search_conditionsâ”‚  â”‚   job_data      â”‚   â”‚               â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚               â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚               â”‚
    â”‚  â”‚   evaluations   â”‚  â”‚execution_logs   â”‚   â”‚               â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
                           â”‚                                       â”‚
                           â–¼                                       â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                 æ”¯æ´ã‚µãƒ¼ãƒ“ã‚¹                                  
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  â”‚ CloudWatch      â”‚  â”‚ Parameter Store â”‚  â”‚    SNS/SES   â”‚
    â”‚  â”‚ (Logs/Alarms)   â”‚  â”‚  (Secrets)      â”‚  â”‚ (Notification)â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ External Servicesâ”‚
                    â”‚ - CrowdWorks     â”‚
                    â”‚ - ChatGPT API    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ–¹é‡

- **ã‚µãƒ¼ãƒãƒ¬ã‚¹ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**: AWS Lambdaã‚’ä¸­å¿ƒã¨ã—ãŸã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
- **ãƒãƒãƒ¼ã‚¸ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹æ´»ç”¨**: DynamoDBã€EventBridgeã€CloudWatchç­‰ã®ãƒ•ãƒ«ãƒãƒãƒ¼ã‚¸ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹
- **Infrastructure as Code**: AWS CDKã«ã‚ˆã‚‹å®Œå…¨ãªã‚¤ãƒ³ãƒ•ãƒ©ç®¡ç†
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é‡è¦–**: IAMãƒ­ãƒ¼ãƒ«ã€Parameter Storeã€VPCç­‰ã§ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–
- **ã‚³ã‚¹ãƒˆæœ€é©åŒ–**: ã‚µãƒ¼ãƒãƒ¬ã‚¹èª²é‡‘ã¨On-Demandèª²é‡‘ã®æ´»ç”¨
- **å‹å®‰å…¨æ€§**: TypeScript strict ãƒ¢ãƒ¼ãƒ‰ã§å®Œå…¨ãªå‹å®šç¾©

### 1.3 æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

**ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**
- **AWS Lambda** (Node.js 18.x): ãƒ¡ã‚¤ãƒ³å®Ÿè¡Œç’°å¢ƒ
- **EventBridge**: ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ï¼ˆ15åˆ†é–“éš”ï¼‰
- **AWS CDK** (TypeScript): Infrastructure as Code

**ãƒ‡ãƒ¼ã‚¿ãƒ»ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**
- **DynamoDB**: NoSQLãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆOn-Demandèª²é‡‘ï¼‰
- **Parameter Store**: ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆãƒ»è¨­å®šç®¡ç†
- **S3**: ãƒ­ã‚°ãƒ»ãƒ¬ãƒãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰

**è¨€èªãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒª**
- **TypeScript** (v5ä»¥ä¸Š): å‹å®‰å…¨æ€§ç¢ºä¿ã€anyå‹ä½¿ç”¨ç¦æ­¢
- **Playwright**: ãƒ–ãƒ©ã‚¦ã‚¶è‡ªå‹•åŒ–ï¼ˆLambda Layerï¼‰
- **AWS SDK v3**: AWS ã‚µãƒ¼ãƒ“ã‚¹é€£æº
- **OpenAI SDK**: ChatGPTé€£æº

**ç›£è¦–ãƒ»é‹ç”¨**
- **CloudWatch**: ãƒ­ã‚°ãƒ»ãƒ¡ãƒˆãƒªã‚¯ã‚¹ãƒ»ã‚¢ãƒ©ãƒ¼ãƒ 
- **AWS X-Ray**: åˆ†æ•£ãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°
- **SNS/SES**: é€šçŸ¥æ©Ÿèƒ½

## 2. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ

### 2.1 ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼

**è²¬å‹™**
- EventBridge ã‹ã‚‰ã®ãƒˆãƒªã‚¬ãƒ¼å—ä¿¡
- Lambdaé–¢æ•°ã®å®Ÿè¡Œåˆ¶å¾¡
- å®Ÿè¡ŒçŠ¶æ…‹ã®ç®¡ç†
- å®Ÿè¡Œå±¥æ­´ã®è¨˜éŒ²

**å®Ÿè£…æ–¹å¼**
```typescript
// EventBridge Rule
const scheduleRule = new events.Rule(this, 'ScheduleRule', {
  schedule: events.Schedule.rate(Duration.minutes(15)),
  targets: [new targets.LambdaFunction(mainFunction)]
});

interface SchedulerEvent {
  source: 'aws.events';
  'detail-type': 'Scheduled Event';
  detail: {};
}
```

### 2.2 ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ‘ãƒ¼

**è²¬å‹™**
- ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ¯ãƒ¼ã‚¯ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹
- èªè¨¼ãƒ»ãƒ­ã‚°ã‚¤ãƒ³å‡¦ç†
- æ¡ˆä»¶ãƒ‡ãƒ¼ã‚¿ã®æŠ½å‡º
- HTMLãƒ‘ãƒ¼ã‚¹ã¨ãƒ‡ãƒ¼ã‚¿æ­£è¦åŒ–

**Lambda Layeræ§‹æˆ**
```typescript
// Playwright Layer (Chrome Binaryå«ã‚€)
const playwrightLayer = new lambda.LayerVersion(this, 'PlaywrightLayer', {
  code: lambda.Code.fromAsset('layers/playwright'),
  compatibleRuntimes: [lambda.Runtime.NODEJS_18_X],
  description: 'Playwright with Chrome for Lambda'
});

interface IScrapperService {
  authenticateUser(credentials: LoginCredentials): Promise<void>;
  searchJobs(condition: SearchCondition): Promise<JobData[]>;
  extractJobDetails(jobUrl: string): Promise<JobDetail>;
  validateJobData(job: JobData): boolean;
}
```

### 2.3 ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸

**è²¬å‹™**
- DynamoDBãƒ†ãƒ¼ãƒ–ãƒ«æ“ä½œ
- ãƒ‡ãƒ¼ã‚¿ã®æ°¸ç¶šåŒ–ãƒ»å–å¾—
- é‡è¤‡ãƒã‚§ãƒƒã‚¯
- ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ä¿è¨¼

**DynamoDB ãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆ**
```typescript
// æ¤œç´¢æ¡ä»¶ãƒ†ãƒ¼ãƒ–ãƒ«
const searchConditionsTable = new dynamodb.Table(this, 'SearchConditions', {
  partitionKey: { name: 'id', type: dynamodb.AttributeType.STRING },
  billingMode: dynamodb.BillingMode.ON_DEMAND,
  encryption: dynamodb.TableEncryption.AWS_MANAGED,
  pointInTimeRecovery: true
});

// æ¡ˆä»¶ãƒ‡ãƒ¼ã‚¿ãƒ†ãƒ¼ãƒ–ãƒ«
const jobsTable = new dynamodb.Table(this, 'Jobs', {
  partitionKey: { name: 'id', type: dynamodb.AttributeType.STRING },
  sortKey: { name: 'scrapedAt', type: dynamodb.AttributeType.STRING },
  billingMode: dynamodb.BillingMode.ON_DEMAND,
  encryption: dynamodb.TableEncryption.AWS_MANAGED,
  timeToLiveAttribute: 'ttl' // 90æ—¥ã§è‡ªå‹•å‰Šé™¤
});

// GlobalSecondaryIndex for queries
jobsTable.addGlobalSecondaryIndex({
  indexName: 'ScoreIndex',
  partitionKey: { name: 'score', type: dynamodb.AttributeType.NUMBER },
  sortKey: { name: 'scrapedAt', type: dynamodb.AttributeType.STRING }
});
```

### 2.4 AIè©•ä¾¡ã‚¨ãƒ³ã‚¸ãƒ³

**è²¬å‹™**
- ChatGPT APIã¨ã®é€šä¿¡
- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç®¡ç†ãƒ»æœ€é©åŒ–
- è©•ä¾¡çµæœã®è§£æãƒ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- ãƒ¬ãƒ¼ãƒˆåˆ¶é™å¯¾å¿œ

**å®Ÿè£…**
```typescript
interface IAIEvaluatorService {
  evaluateJob(job: JobData): Promise<JobEvaluation>;
  evaluateJobsBatch(jobs: JobData[]): Promise<JobEvaluation[]>;
  createEvaluationPrompt(job: JobData): string;
  parseEvaluationResponse(response: string): JobEvaluation;
}

class AIEvaluatorService implements IAIEvaluatorService {
  private openAI: OpenAI;
  private rateLimiter: RateLimiter;
  
  constructor(apiKey: string) {
    this.openAI = new OpenAI({ apiKey });
    this.rateLimiter = new RateLimiter({
      requestsPerMinute: 60,
      requestsPerDay: 10000
    });
  }
}
```

### 2.5 è¨­å®šç®¡ç†

**è²¬å‹™**
- Parameter Store ã‹ã‚‰ã®è¨­å®šèª­ã¿è¾¼ã¿
- æ¤œç´¢æ¡ä»¶ã®ç®¡ç†
- ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆæƒ…å ±ã®å®‰å…¨ãªå–å¾—

**Parameter Storeæ§‹æˆ**
```typescript
// ã‚·ã‚¹ãƒ†ãƒ è¨­å®š
const systemConfig = new ssm.StringParameter(this, 'SystemConfig', {
  parameterName: '/crowdworks-searcher/config/system',
  stringValue: JSON.stringify({
    maxJobsPerExecution: 100,
    aiModel: 'gpt-4',
    scoreThreshold: 7,
    notificationEnabled: true
  })
});

// ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆè¨­å®š
const secrets = new ssm.StringParameter(this, 'Secrets', {
  parameterName: '/crowdworks-searcher/secrets',
  stringValue: JSON.stringify({
    openaiApiKey: '${OpenAI_API_KEY}',
    crowdworksEmail: '${CROWDWORKS_EMAIL}',
    crowdworksPassword: '${CROWDWORKS_PASSWORD}'
  }),
  type: ssm.ParameterType.SECURE_STRING
});
```

## 3. ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

### 3.1 ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å›³

```
EventBridge â”€â”€15åˆ†â”€â”€â–¶ Lambda Function (Main Handler)
                            â”‚
                            â–¼
                    Parameter Store â”€â”€è¨­å®šå–å¾—â”€â”€â–¶ Scraper Service
                            â”‚                          â”‚
                            â–¼                          â–¼
                    DynamoDB â—€â”€â”€æ¤œç´¢æ¡ä»¶å–å¾—â”€â”€â”€â”€ CrowdWorks Site
                    (SearchConditions)             â”‚
                            â”‚                      â–¼
                            â–¼                 æ¡ˆä»¶ãƒ‡ãƒ¼ã‚¿
                    DynamoDB â—€â”€â”€â”€â”€ä¿å­˜â”€â”€â”€â”€â”€â”€ Data Normalizer
                    (Jobs)                        â”‚
                            â”‚                      â–¼
                            â–¼                 AI Evaluator
                    DynamoDB â—€â”€â”€â”€â”€è©•ä¾¡çµæœâ”€â”€â”€ (ChatGPT API)
                    (Evaluations)                 â”‚
                            â”‚                      â–¼
                            â–¼                 Notification
                    CloudWatch â—€â”€â”€ãƒ­ã‚°å‡ºåŠ›â”€â”€â”€ (SNS/SES)
                    (Logs)
```

### 3.2 å‡¦ç†ãƒ•ãƒ­ãƒ¼

**ãƒ¡ã‚¤ãƒ³å‡¦ç†ãƒ•ãƒ­ãƒ¼ï¼ˆLambda Handlerï¼‰**
```typescript
export const handler = async (event: SchedulerEvent): Promise<void> => {
  const executionId = uuidv4();
  const logger = new Logger({ executionId });
  
  try {
    // 1. è¨­å®šãƒ»èªè¨¼æƒ…å ±å–å¾—
    const config = await configService.getSystemConfig();
    const credentials = await configService.getCredentials();
    
    // 2. æ¤œç´¢æ¡ä»¶å–å¾—
    const searchConditions = await dataService.getActiveSearchConditions();
    
    // 3. ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°å®Ÿè¡Œ
    const scraper = new ScraperService(credentials);
    const allJobs: JobData[] = [];
    
    for (const condition of searchConditions) {
      const jobs = await scraper.searchJobs(condition);
      allJobs.push(...jobs);
    }
    
    // 4. é‡è¤‡æ’é™¤ãƒ»æ–°è¦æ¡ˆä»¶ãƒ•ã‚£ãƒ«ã‚¿
    const newJobs = await dataService.filterNewJobs(allJobs);
    
    // 5. ãƒ‡ãƒ¼ã‚¿ä¿å­˜
    await dataService.saveJobs(newJobs);
    
    // 6. AIè©•ä¾¡å®Ÿè¡Œ
    const evaluator = new AIEvaluatorService(config.openaiApiKey);
    const evaluations = await evaluator.evaluateJobsBatch(newJobs);
    
    // 7. è©•ä¾¡çµæœä¿å­˜
    await dataService.saveEvaluations(evaluations);
    
    // 8. é«˜è©•ä¾¡æ¡ˆä»¶é€šçŸ¥
    const highScoreJobs = evaluations.filter(e => e.score >= config.scoreThreshold);
    if (highScoreJobs.length > 0) {
      await notificationService.sendHighScoreAlert(highScoreJobs);
    }
    
    // 9. å®Ÿè¡Œãƒ­ã‚°è¨˜éŒ²
    await dataService.saveExecutionLog({
      status: 'success',
      jobsFound: allJobs.length,
      newJobs: newJobs.length,
      highScoreJobs: highScoreJobs.length,
      executionTime: Date.now() - startTime
    });
    
  } catch (error) {
    logger.error('Execution failed', { error });
    await handleError(error, executionId);
  }
};
```

## 4. ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è¨­è¨ˆ

### 4.1 å¤–éƒ¨APIé€£æº

**ChatGPT API**
```typescript
interface ChatGPTRequest {
  model: 'gpt-4' | 'gpt-3.5-turbo';
  messages: ChatCompletionMessage[];
  max_tokens: number;
  temperature: number;
  response_format: { type: 'json_object' };
}

const EVALUATION_PROMPT_TEMPLATE = `
ä»¥ä¸‹ã®æ¡ˆä»¶æƒ…å ±ã‚’è©•ä¾¡ã—ã¦ã€JSONå½¢å¼ã§å›ç­”ã—ã¦ãã ã•ã„ï¼š

æ¡ˆä»¶æƒ…å ±:
- ã‚¿ã‚¤ãƒˆãƒ«: {title}
- äºˆç®—: {budget}å††
- ç´æœŸ: {deadline}
- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè©•ä¾¡: {clientRating}/5.0
- å¿…è¦ã‚¹ã‚­ãƒ«: {skills}
- è©³ç´°: {description}

è©•ä¾¡åŸºæº–:
1. äºˆç®—ã®å¦¥å½“æ€§ï¼ˆç›¸å ´ã¨ã®æ¯”è¼ƒï¼‰
2. ã‚¹ã‚­ãƒ«ãƒãƒƒãƒãƒ³ã‚°åº¦
3. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ä¿¡é ¼æ€§
4. æ¡ˆä»¶èª¬æ˜ã®æ˜ç¢ºæ€§
5. ç´æœŸã®ç¾å®Ÿæ€§

å›ç­”å½¢å¼:
{
  "score": 1-10ã®æ•´æ•°,
  "reason": "è©•ä¾¡ç†ç”±ã®è©³ç´°èª¬æ˜",
  "strengths": ["å¼·ã¿1", "å¼·ã¿2"],
  "concerns": ["æ‡¸å¿µç‚¹1", "æ‡¸å¿µç‚¹2"]
}
`;
```

### 4.2 å†…éƒ¨APIè¨­è¨ˆ

**ç®¡ç†ç”¨APIï¼ˆAPI Gateway + Lambdaï¼‰**
```typescript
// GET /api/status - ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹å–å¾—
export const getSystemStatus = async (): Promise<SystemStatus> => {
  const lastExecution = await getLastExecutionLog();
  const jobStats = await getJobStatistics();
  
  return {
    schedulerStatus: 'running',
    lastExecution: lastExecution?.executedAt,
    nextExecution: getNextExecutionTime(),
    totalJobs: jobStats.total,
    highScoreJobs: jobStats.highScore,
    averageScore: jobStats.averageScore
  };
};

// GET /api/jobs - æ¡ˆä»¶ä¸€è¦§å–å¾—
export const getJobs = async (query: JobQuery): Promise<JobsResponse> => {
  const { scoreMin, limit = 20, lastKey } = query;
  
  return await dynamoService.queryJobs({
    IndexName: 'ScoreIndex',
    KeyConditionExpression: 'score >= :scoreMin',
    ExpressionAttributeValues: { ':scoreMin': scoreMin },
    Limit: limit,
    ExclusiveStartKey: lastKey
  });
};
```

## 5. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­è¨ˆ

### 5.1 èªè¨¼ãƒ»èªå¯

**IAM ãƒ­ãƒ¼ãƒ«è¨­è¨ˆ**
```typescript
// Lambdaå®Ÿè¡Œãƒ­ãƒ¼ãƒ«
const lambdaRole = new iam.Role(this, 'LambdaExecutionRole', {
  assumedBy: new iam.ServicePrincipal('lambda.amazonaws.com'),
  managedPolicies: [
    iam.ManagedPolicy.fromAwsManagedPolicyName('service-role/AWSLambdaBasicExecutionRole')
  ],
  inlinePolicies: {
    DynamoDBAccess: new iam.PolicyDocument({
      statements: [
        new iam.PolicyStatement({
          effect: iam.Effect.ALLOW,
          actions: [
            'dynamodb:GetItem',
            'dynamodb:PutItem',
            'dynamodb:UpdateItem',
            'dynamodb:Query',
            'dynamodb:Scan'
          ],
          resources: [
            jobsTable.tableArn,
            searchConditionsTable.tableArn,
            `${jobsTable.tableArn}/index/*`
          ]
        })
      ]
    }),
    ParameterStoreAccess: new iam.PolicyDocument({
      statements: [
        new iam.PolicyStatement({
          effect: iam.Effect.ALLOW,
          actions: ['ssm:GetParameter', 'ssm:GetParameters'],
          resources: [`arn:aws:ssm:${region}:${account}:parameter/crowdworks-searcher/*`]
        })
      ]
    })
  }
});
```

### 5.2 ãƒ‡ãƒ¼ã‚¿ä¿è­·

**æš—å·åŒ–è¨­å®š**
```typescript
// DynamoDBæš—å·åŒ–
const table = new dynamodb.Table(this, 'JobsTable', {
  encryption: dynamodb.TableEncryption.AWS_MANAGED,
  pointInTimeRecovery: true
});

// Parameter Storeæš—å·åŒ–
const secureParameter = new ssm.StringParameter(this, 'Secrets', {
  type: ssm.ParameterType.SECURE_STRING,
  keyId: kms.Alias.fromAliasName(this, 'ParameterStoreKey', 'alias/aws/ssm')
});

// CloudWatch Logsæš—å·åŒ–
const logGroup = new logs.LogGroup(this, 'LambdaLogs', {
  encryptionKey: new kms.Key(this, 'LogsEncryptionKey'),
  retention: logs.RetentionDays.ONE_MONTH
});
```

## 6. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°è¨­è¨ˆ

### 6.1 ã‚¨ãƒ©ãƒ¼åˆ†é¡

```typescript
export enum ErrorType {
  // AWSé–¢é€£ã‚¨ãƒ©ãƒ¼
  LAMBDA_TIMEOUT = 'LAMBDA_TIMEOUT',
  DYNAMODB_ERROR = 'DYNAMODB_ERROR',
  PARAMETER_STORE_ERROR = 'PARAMETER_STORE_ERROR',
  
  // å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã‚¨ãƒ©ãƒ¼
  OPENAI_API_ERROR = 'OPENAI_API_ERROR',
  SCRAPING_ERROR = 'SCRAPING_ERROR',
  NETWORK_ERROR = 'NETWORK_ERROR',
  
  // ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼
  VALIDATION_ERROR = 'VALIDATION_ERROR',
  AUTHENTICATION_ERROR = 'AUTHENTICATION_ERROR',
  
  // ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼
  UNKNOWN_ERROR = 'UNKNOWN_ERROR'
}

export class AppError extends Error {
  constructor(
    public type: ErrorType,
    message: string,
    public retryable: boolean = false,
    public context?: Record<string, any>
  ) {
    super(message);
  }
}
```

### 6.2 ã‚¨ãƒ©ãƒ¼å‡¦ç†æ–¹é‡

**è‡ªå‹•å†è©¦è¡Œæˆ¦ç•¥**
```typescript
class RetryHandler {
  async executeWithRetry<T>(
    operation: () => Promise<T>,
    maxRetries: number = 3,
    backoffMs: number = 1000
  ): Promise<T> {
    for (let attempt = 1; attempt <= maxRetries; attempt++) {
      try {
        return await operation();
      } catch (error) {
        if (!this.isRetryable(error) || attempt === maxRetries) {
          throw error;
        }
        
        const delay = backoffMs * Math.pow(2, attempt - 1);
        await this.sleep(delay);
      }
    }
    
    throw new Error('Max retries exceeded');
  }
  
  private isRetryable(error: any): boolean {
    return error instanceof AppError && error.retryable;
  }
}
```

**CloudWatch Alarms**
```typescript
// Lambdaé–¢æ•°ã‚¨ãƒ©ãƒ¼ç‡ç›£è¦–
new cloudwatch.Alarm(this, 'LambdaErrorAlarm', {
  metric: lambdaFunction.metricErrors(),
  threshold: 5,
  evaluationPeriods: 2,
  alarmDescription: 'Lambda function error rate is high'
});

// DynamoDB ã‚¨ãƒ©ãƒ¼ç›£è¦–
new cloudwatch.Alarm(this, 'DynamoDBErrorAlarm', {
  metric: table.metricSystemErrorsForOperations({
    operations: [dynamodb.Operation.PUT_ITEM, dynamodb.Operation.GET_ITEM]
  }),
  threshold: 10,
  evaluationPeriods: 1
});
```

## 7. ãƒ­ã‚°è¨­è¨ˆ

### 7.1 ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«å®šç¾©

```typescript
export enum LogLevel {
  ERROR = 'ERROR',
  WARN = 'WARN', 
  INFO = 'INFO',
  DEBUG = 'DEBUG'
}

export interface StructuredLog {
  timestamp: string;
  level: LogLevel;
  executionId: string;
  component: string;
  message: string;
  context?: Record<string, any>;
  error?: {
    name: string;
    message: string;
    stack: string;
  };
}
```

### 7.2 ãƒ­ã‚°å‡ºåŠ›æ–¹é‡

**æ§‹é€ åŒ–ãƒ­ã‚°å®Ÿè£…**
```typescript
export class Logger {
  constructor(private executionId: string) {}
  
  info(message: string, context?: Record<string, any>): void {
    this.log(LogLevel.INFO, message, context);
  }
  
  error(message: string, context?: Record<string, any>, error?: Error): void {
    this.log(LogLevel.ERROR, message, {
      ...context,
      error: error ? {
        name: error.name,
        message: error.message,
        stack: error.stack
      } : undefined
    });
  }
  
  private log(level: LogLevel, message: string, context?: Record<string, any>): void {
    const logEntry: StructuredLog = {
      timestamp: new Date().toISOString(),
      level,
      executionId: this.executionId,
      component: 'crowdworks-searcher',
      message,
      context: this.sanitizeContext(context)
    };
    
    console.log(JSON.stringify(logEntry));
  }
  
  private sanitizeContext(context?: Record<string, any>): Record<string, any> | undefined {
    if (!context) return undefined;
    
    // æ©Ÿå¯†æƒ…å ±ã®ãƒã‚¹ã‚­ãƒ³ã‚°
    const sanitized = { ...context };
    const sensitiveKeys = ['password', 'token', 'apiKey', 'secret'];
    
    for (const key of sensitiveKeys) {
      if (key in sanitized) {
        sanitized[key] = '***MASKED***';
      }
    }
    
    return sanitized;
  }
}
```

**CloudWatch Logsè¨­å®š**
```typescript
const logGroup = new logs.LogGroup(this, 'LambdaLogGroup', {
  logGroupName: `/aws/lambda/${lambdaFunction.functionName}`,
  retention: logs.RetentionDays.ONE_MONTH,
  removalPolicy: RemovalPolicy.DESTROY
});

// ãƒ­ã‚°ãƒ¡ãƒˆãƒªã‚¯ã‚¹ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
new logs.MetricFilter(this, 'ErrorMetricFilter', {
  logGroup,
  metricNamespace: 'CrowdWorksSearcher',
  metricName: 'Errors',
  filterPattern: logs.FilterPattern.stringValue('$.level', '=', 'ERROR'),
  metricValue: '1'
});
```
</file>

<file path="readme.md">
ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ¯ãƒ¼ã‚¯ã‚¹ã‹ã‚‰é©åˆ‡ãªæ¡ˆä»¶ã‚’æ¢ã™ãŸã‚ã®ã‚½ãƒ•ãƒˆ
Dockerä¸Šã§ãƒ–ãƒ©ã‚¦ã‚¶ã‚’å®šæœŸçš„ã«å‹•ä½œã•ã›ã¦ã€ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ¯ãƒ¼ã‚¯ã‚¹ã«å¯¾ã—ã¦ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã€ä¸­èº«ã‚’è¦‹ã¦ã€chatGPTã«æ¡ˆä»¶ã®ãŠã™ã™ã‚åº¦ã‚’æŸ»å®šã—ã¦ã‚‚ã‚‰ã†
ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆå…¼ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªç”¨

## ãƒ¡ãƒ¢
repomixã‚’ä½¿ã£ã¦ã„ã‚‹

ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒªãƒã‚¸ãƒˆãƒªã®ãŸã‚ã€æ©Ÿå¯†æƒ…å ±ã«ã¯æ³¨æ„ã‚’æ‰•ã†

ä½ã‚³ã‚¹ãƒˆã§å‹•ã‹ã™ã“ã¨ã‚’è€ƒãˆã‚‹ã€GPTã«ã‚ˆã‚‹è©•ä¾¡ã¯è¶£å‘³ã§å…¥ã‚Œã‚‹ãŒãªã‚‹ã¹ãæŠ‘ãˆã‚‹
</file>

</files>
